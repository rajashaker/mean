<!-- basic rates for new item CONSTRUCTION -->
<body>
  <div id="main">
    <nav class="navbar  navbar-expand-lg navbar-light " style="background-color: -webkit-linear-gradient(rgba(0, 0, 0, 0.5),rgba(0, 0, 0, 0.5));">
      <a class="navbar-brand"  > CMS</a>
      <button class="navbar-toggler"style="background-color:#fffffff7" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav" >
          <!-- <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          PROFILE
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" routerLink="/basicrates" >Update</a>
              <a class="dropdown-item"routerLink="/des">Change Password</a>
             
            </div>
          </li>



          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          PROJECT
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" routerLink="/basicrates" >ADD</a>
              <a class="dropdown-item"routerLink="/des"> EDIT</a>
              <a class="dropdown-item"routerLink="/des"> DELETE</a>
             
            </div>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            STANDARD ITEMS
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" routerLink="/basicrates" >Basic Rates</a>
              <a class="dropdown-item"routerLink="/des">Description & cost</a>
              <a class="dropdown-item" >Refer</a>
            </div>
          </li> -->
  
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            NEWITEMS
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" routerLink="/bas" >Basic Rates</a>
              <a class="dropdown-item"routerLink="/NIR">Item Rates</a>
              <a class="dropdown-item" routerLink="/NCBU">Cost Breakup</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
<h3 style="font-style:italic;text-align: center;padding-top: 10px;" class="animated fadeInRight">NEW ITEM OF CONSTRUCTION </h3>
<mat-card>
<form [formGroup]="form">
 <!-- {{form.value |json}}  -->
<div class="mb-3">
  <!-- <label >SELECT</label> -->
  <div class="form-check">
    <input class="form-check-input" type="radio" (click)="getyearciv()" formControlName="Civ_Elec"  value="CIVIL" >
    <label class="form-check-label">CIVIL</label>
    &nbsp;&nbsp;
    <input class="form-check-input" type="radio" (click)="getyearele()" formControlName="Civ_Elec"  value="ELECT" >
    <label class="form-check-label">ELECTRICAL </label>
  </div>
  </div>
<!-- &nbsp;&nbsp;&nbsp;&nbsp; -->
  <mat-form-field  appearance="fill"  *ngIf="yeartab" >
    <mat-label >Select Year</mat-label>
    <mat-select (selectionChange)="yyyy($event)" formControlName="schyear"  required>
     
      <mat-option *ngFor="let city of year" [value]="city._id.as">
        {{city._id.as}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  &nbsp;&nbsp;
  <mat-form-field  appearance="fill"  *ngIf="typetab"   >
    <mat-label >Select Type</mat-label>
    <mat-select   (selectionChange)="xxxx($event)" formControlName="type"  required>
     
      <mat-option *ngFor="let city of type" [value]="city._id.as">
        {{city._id.as}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  &nbsp;&nbsp;
  <mat-form-field  appearance="fill"  *ngIf="detailstab" >
    <mat-label >Select </mat-label>
    <mat-select  (selectionChange)="zzzz($event)" formControlName="details"  required>
     
      <mat-option  value="Add"> ADD</mat-option>
      <mat-option  value="view"> VIEW</mat-option>
      <mat-option  value="edit"> EDIT & DELETE</mat-option>
      <!-- <mat-option  value="delete">DELETE</mat-option> -->
        
      
    </mat-select>
  </mat-form-field>




  </form>
</mat-card>

<!-- //addform -->
<mat-card *ngIf=add>
  <h4 style="font-style:italic;text-align: center;padding-top: 10px;" class="animated fadeInRight" >Add New Rates</h4>
<mat-card>
  <form [formGroup]="form1">
    <!-- {{form1.value |json}}  -->
    <h6 *ngIf=showrate style="font-style:italic;font-family:'Times New Roman, Times, serif';text-align: center;padding-top: 10px;color:royalblue;" class="animated fadeInLeft" >Code For This Rate-{{ncode}}</h6>
    <mat-form-field  appearance="fill"  *ngIf="mattab"   >
      <mat-label >Select group</mat-label>
      <mat-select    formControlName="group"  required>
       
        <mat-option *ngFor="let city of groupm" [value]="city._id.as">
          {{city._id.as}}
        </mat-option>
      </mat-select>
    </mat-form-field>


    <mat-form-field  appearance="fill"     class="example-full-width">
      <mat-label>Description</mat-label>
      <textarea matInput   formControlName="description" required  placeholder="Enter Description here"></textarea>
      <mat-error>Description required</mat-error> 
    </mat-form-field>

  
    <mat-form-field appearance="outline">
      <mat-label>Enter Unitvalue</mat-label>
      <input matInput  type="number" formControlName="unit"  placeholder="Enter Unitvalue here">
      <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
      <mat-hint>only numbers</mat-hint>
      <mat-error>Unitvalue required</mat-error>
    </mat-form-field>
    &nbsp;&nbsp;
    <mat-form-field  appearance="fill"  >
      <mat-label >Select Unit</mat-label>
      <mat-select  (selectionChange)="others($event)"  formControlName="unitvalue"  required>
       
        <mat-option *ngFor="let city of unitval" [value]="city._id">
          {{city._id}}
        </mat-option>
        <mat-option >others</mat-option>
      </mat-select>
      <mat-error> Please select unit</mat-error>
    </mat-form-field>
    &nbsp;&nbsp;
    <mat-form-field appearance="fill"  *ngIf="newunittab">
      <mat-label>Enter New Unit</mat-label>
      <input matInput  formControlName="newunit" (keyup)="ss($event)" placeholder="Enter New Unit Here">

      <mat-hint>only letters</mat-hint>
     
     
    </mat-form-field>
    &nbsp;&nbsp;
     
    <button *ngIf="newunittab"  mat-raised-button  matTooltip="click Add and Select unit" aria-label="Button that displays a tooltip when focused or hovered over" [disabled]="!form1.controls['newunit'].valid"   (click)="ad()" color="accent">Add</button>
 <br>
 <br>
 
 <mat-form-field appearance="fill">
  <mat-label>Standard Rate</mat-label>
  <input matInput type="number"  formControlName="stdrate" (keyup)="rate($event)" placeholder="Enter Standard Rate " class="example-right-align">
  <span matPrefix>₹&nbsp;</span>
  <span matSuffix>.00</span>
  
  <mat-error>Standard Rate is required</mat-error>
</mat-form-field>
&nbsp;&nbsp;
<mat-form-field appearance="fill">
  <mat-label>Current Rate</mat-label>
  <input matInput type="number"   formControlName="currate" placeholder="Enter Current Rate " class="example-right-align">
  <span matPrefix>₹&nbsp;</span>
  <span matSuffix>.00</span>
  <mat-error>Current Rate is required</mat-error>
</mat-form-field>
<br>
<div class="example-button-row" align="center">
  
  <button  *ngIf=hide  mat-raised-button [disabled]="!form1.valid" (click)="save()" color="accent">SAVE</button>
  &nbsp;<button mat-button color="primary" (click)="clear()">CLEAR</button>
  <!-- <button mat-raised-button matTooltip="Info about the action" aria-label="Button that displays a tooltip when focused or hovered over">Action -->

  
 

</div>

    </form>
</mat-card>
</mat-card>

<!-- //edit -->
<mat-card *ngIf=edit>
  <button    mat-raised-button (click)="ref()"color="warn" ><mat-icon>refresh</mat-icon>Refresh</button>
   <h4 style="font-style:italic;text-align: center;padding-top: 10px;" class="animated fadeInRight">Update & Delete New Items of construction</h4>
  
    <div *ngIf=edit1 class="example-container mat-elevation-z8">
            
      
      <table mat-table [dataSource]="listData" class="animated fadeInRight">
    
    
        <ng-container matColumnDef="Code" sticky>
          <th mat-header-cell *matHeaderCellDef> CODE </th>
         <td mat-cell *matCellDef="let element"> {{element.Code}} </td> 
        </ng-container>
      
  
        <ng-container matColumnDef="Description">
          <th mat-header-cell *matHeaderCellDef>  DESCRIPTION </th>
          <td mat-cell *matCellDef="let element"> {{element.Description}} </td>
        </ng-container>
      
        <ng-container matColumnDef="Unit">
          <th mat-header-cell *matHeaderCellDef> UNIT </th>
          <td mat-cell *matCellDef="let element"> {{element.Unitvalue}} {{element.Unit}}  </td>
        </ng-container> 
      
      

        <ng-container matColumnDef="Rate">
          <th mat-header-cell *matHeaderCellDef> RATE(in rs) </th>
          <td mat-cell *matCellDef="let element"> {{element.Rate}} </td>
        </ng-container>

        <ng-container matColumnDef="Marketrate">
          <th mat-header-cell *matHeaderCellDef> Curent Market RATE(in rs) </th>
          <td mat-cell *matCellDef="let element"> {{element.Marketate}} </td>
        </ng-container>

        <ng-container matColumnDef="Standard/New">
          <th mat-header-cell *matHeaderCellDef> Standard/New </th>
          <td mat-cell *matCellDef="let element"> {{element.ss}} </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Update & delete </th>
          <mat-cell *matCellDef="let element">
            
            <button mat-icon-button (click)="update(element)" ><mat-icon>launch</mat-icon></button>
           
            <button mat-icon-button (click)="onSelectdelete(element)" color="warn"><mat-icon>delete_outline</mat-icon></button>
           
          </mat-cell>
        </ng-container>

        <ng-container matColumnDef="loading">
          <mat-footer-cell *matFooterCellDef colspan="6">
         After selecting  click the show button to view the data ...
          </mat-footer-cell>
          </ng-container>
          <ng-container matColumnDef="noData">
            <mat-footer-cell *matFooterCellDef colspan="6">
           No Data...
            </mat-footer-cell>
            </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumn; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumn;"></tr>
        <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':listData!=null}"></mat-footer-row>
        <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(listData!=null&&listData.data.length==0)}"></mat-footer-row>
      </table>
      </div>

  </mat-card>




<!-- //view -->
<mat-card *ngIf=viewtab>

  <h4 style="font-style:italic;text-align: center;padding-top: 10px;" class="animated fadeInRight">Standard And New Items of construction</h4>
  <div *ngIf=viewtab1 class="example-container mat-elevation-z8">
            
      
    <table mat-table [dataSource]="listData" class="animated fadeInRight">
  
  
      <ng-container matColumnDef="Code" sticky>
        <th mat-header-cell *matHeaderCellDef> CODE </th>
       <td mat-cell *matCellDef="let element"> {{element.Code}} </td> 
      </ng-container>
    

      <ng-container matColumnDef="Description">
        <th mat-header-cell *matHeaderCellDef>  DESCRIPTION </th>
        <td mat-cell *matCellDef="let element"> {{element.Description}} </td>
      </ng-container>
    
      <ng-container matColumnDef="Unit">
        <th mat-header-cell *matHeaderCellDef> UNIT </th>
        <td mat-cell *matCellDef="let element"> {{element.Unitvalue}} {{element.Unit}}  </td>
      </ng-container> 
    
    

      <ng-container matColumnDef="Rate">
        <th mat-header-cell *matHeaderCellDef> RATE(in rs) </th>
        <td mat-cell *matCellDef="let element"> {{element.Rate}} </td>
      </ng-container>

      <ng-container matColumnDef="Marketrate">
        <th mat-header-cell *matHeaderCellDef> Curent Market RATE(in rs) </th>
        <td mat-cell *matCellDef="let element"> {{element.Marketate}} </td>
      </ng-container>

      <ng-container matColumnDef="Standard/New">
        <th mat-header-cell *matHeaderCellDef> Standard/New </th>
        <td mat-cell *matCellDef="let element"> {{element.ss}} </td>
      </ng-container>

    

      <ng-container matColumnDef="loading">
        <mat-footer-cell *matFooterCellDef colspan="6">
       After selecting  click the show button to view the data ...
        </mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="noData">
          <mat-footer-cell *matFooterCellDef colspan="6">
         No Data...
          </mat-footer-cell>
          </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':listData!=null}"></mat-footer-row>
      <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(listData!=null&&listData.data.length==0)}"></mat-footer-row>
    </table>
    </div>


</mat-card>





</div>
</body>
